<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>IntelliMat ESG Navigator — Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <style>
    :root { --bg:#0b0b0b; --gold:#d4af37; --text:#ffffff; }
    body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui,Segoe UI,sans-serif}
    header{padding:20px;border-bottom:1px solid #222;display:flex;align-items:center;gap:12px}
    .brand{font-weight:700;font-size:18px;color:var(--gold)}
    .wrap{max-width:1100px;margin:24px auto;padding:0 16px}
    .card{border:1px solid #222;border-radius:12px;padding:20px;background:#101010}
    .muted{color:#aaa}
    .grid{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}
    .kpi{background:#121212;border:1px solid #222;border-radius:12px;padding:16px}
    .kpi .n{font-size:28px;color:var(--gold);font-weight:700}
    .footer{margin-top:24px;color:#aaa;font-size:12px}
    @media (max-width:900px){.grid{grid-template-columns:repeat(2,1fr)}}
  </style>
</head>
<body>
  <header>
    <div class="brand">IntelliMat ESG Navigator</div>
    <div class="muted">Coming soon — executive dashboard</div>
  </header>
  <div class="wrap">
    <div class="grid" id="kpis">
      <div class="kpi"><div class="n" id="esgScore">—</div><div class="muted">ESG Score</div></div>
      <div class="kpi"><div class="n" id="suppliers">—</div><div class="muted">Suppliers Assessed</div></div>
      <div class="kpi"><div class="n" id="alerts">—</div><div class="muted">Risk Alerts</div></div>
      <div class="kpi"><div class="n" id="compliance">—</div><div class="muted">Compliance Rate</div></div>
    </div>

    <div class="card" style="margin-top:16px">
      <div class="muted" style="margin-bottom:8px">Contact</div>
      <div>Terry Ramabulana PhD, M.Com, AGA(SA)</div>
      <div>Local: <a href="mailto:Terry@tisholdings.co.za">Terry@tisholdings.co.za</a> · +27 83 455 8115</div>
      <div>International: <a href="mailto:Terryr@tis-holdings.com">Terryr@tis-holdings.com</a></div>
    </div>

    <div class="footer">
      Partnerships: IBM · University of Venda · Botshelo Safety · DRATA
    </div>
  </div>

  <script>
    // If your API requires x-esgnav-key, this static page can call a local, no-auth endpoint you define,
    // or you can temporarily hardcode the key here for local testing only.
    async function hydrate() {
      try {
        // demo metrics (adjust to your real endpoint if desired)
        const r = await fetch('/api/metrics'); // local serverless or your own no-auth route
        const j = await r.json();
        const d = j.data || j;
        document.getElementById('esgScore').textContent   = (d.esgScore ?? 87.5);
        document.getElementById('suppliers').textContent  = (d.suppliersAssessed ?? 342);
        document.getElementById('alerts').textContent     = (d.riskAlerts ?? 8);
        document.getElementById('compliance').textContent = ((d.complianceRate ?? 94.2) + '%');
      } catch(e) {
        console.error(e);
      }
    }
    hydrate();
  </script>
</body>
</html>
